http://mbed.org/users/GIPetrou/code/SerialHalfDuplex/#8fd1fa67565e
