http://mbed.org/users/GIPetrou/code/MX28/#85216442d3ef
